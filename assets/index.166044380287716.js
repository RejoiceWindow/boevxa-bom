import{r as s,b as i,e as p,_ as l,f as m,g as f}from"./index.1660443802877.js";import{aG as _,P as v,r as c,y as R,k as g,a1 as x,T as y,a8 as E,j as h}from"./vue.1660443802877.js";import q from"./cron-selector.1660443802877.js";const o="/api/task/task/";function B(e){return s({url:o,method:"get",params:e})}function C(e){return s({url:o,method:"post",data:e})}function w(e){return s({url:o+e.id+"/",method:"put",data:e})}function O(e){return s({url:o+e.id+"/",method:"delete",data:e})}function b({expose:e}){return i(),_(),{crudOptions:{request:{pageRequest:async t=>await B(t),addRequest:async({form:t})=>await C(t),editRequest:async({form:t,row:r})=>(t.id=r.id,await w(t)),delRequest:async({row:t})=>await O(t.id)},search:{col:{span:4},options:{labelCol:{style:{width:"80px"}}}},columns:{name:{title:"\u4EFB\u52A1\u540D\u79F0",type:"input",column:{width:50,show:!1}},cron:{title:"CRON",form:{component:{name:q,props:{color:"danger"},vModel:"value",on:{onYourCustomEvent(t){console.log("\u81EA\u5B9A\u4E49\u4E8B\u4EF6",t)}}}},component:{name:"values-format",props:{}},align:"center"},job:{title:"\u6267\u884C\u7684\u4EFB\u52A1",type:"dict-select",dict:p({cloneable:!0,url:o+"job_list/"}),form:{component:{dict:{prototype:!1,onReady({dict:t}){console.log("aaaaaaaa",t),t.data=t.data.data.data}},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4E00\u4E2A\u9009\u9879"}]}}},status:{title:"\u72B6\u6001",type:"switch",component:{props:{"active-text":"\u542F\u7528","inactive-text":"\u6682\u505C","active-value":1,"inactive-value":0},on:{}}}}}}}const k=v({name:"task",setup(){const e=c(),n=c(),{crudExpose:a}=m({crudRef:e,crudBinding:n}),{crudOptions:u}=b({crudExpose:a});return f({crudExpose:a,crudOptions:u}),R(()=>{a.doRefresh()}),{crudBinding:n,crudRef:e}}}),A={class:"operate-exit-container"};function F(e,n,a,u,d,t){const r=E("fs-crud");return h(),g("div",A,[x(r,y({ref:"crudRef"},e.crudBinding),null,16)])}var D=l(k,[["render",F],["__scopeId","data-v-054c45aa"]]);export{D as default};
