import{P as g,aD as N,f as R,h as c,O as _,n as f,y as k,o as T,w as y,t as A,k as K,a1 as p,W as v,g as C,a8 as L,j as u,a2 as B,V as w,Z as P,aH as $}from"./vue.1660443802877.js";import{_ as x,d as D,u as I,s as d,S as M}from"./index.1660443802877.js";const S=g({name:"layoutParentView",setup(){const{proxy:s}=C(),a=N(),l=D(),m=I(),{keepAliveNames:o,cachedViews:i}=d(l),{themeConfig:t}=d(m),e=R({refreshRouterViewKey:null,keepAliveNameList:[]}),h=c(()=>t.value.animation),V=c(()=>t.value.isTagsview?i.value:e.keepAliveNameList);return _(()=>{e.keepAliveNameList=o.value,s.mittBus.on("onTagsViewRefreshRouterView",n=>{e.keepAliveNameList=o.value.filter(r=>a.name!==r),e.refreshRouterViewKey=null,f(()=>{e.refreshRouterViewKey=n,e.keepAliveNameList=o.value})})}),k(()=>{f(()=>{setTimeout(()=>{var n;t.value.isCacheTagsView&&(i.value=(n=M.get("tagsViewList"))==null?void 0:n.map(r=>r.name))},0)})}),T(()=>{s.mittBus.off("onTagsViewRefreshRouterView",()=>{})}),y(()=>a.fullPath,()=>{e.refreshRouterViewKey=decodeURI(a.fullPath)}),{setTransitionName:h,getKeepAliveNames:V,...A(e)}}}),U={class:"h100"};function j(s,a,l,m,o,i){const t=L("router-view");return u(),K("div",U,[p(t,null,{default:v(({Component:e})=>[p(B,{name:s.setTransitionName,mode:"out-in"},{default:v(()=>[(u(),w($,{include:s.getKeepAliveNames},[(u(),w(P(e),{key:s.refreshRouterViewKey,class:"w100"}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})])}var O=x(S,[["render",j]]);export{O as default};
